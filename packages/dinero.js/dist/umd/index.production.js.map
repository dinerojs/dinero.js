{"version":3,"file":"index.production.js","sources":["../../../core/dist/esm/checks/messages.js","../../../core/dist/esm/helpers/assert.js","../../../core/dist/esm/helpers/createDinero.js","../../../core/dist/esm/types/Calculator.js","../../../core/dist/esm/utils/equal.js","../../../core/dist/esm/utils/lessThan.js","../../../core/dist/esm/utils/absolute.js","../../../core/dist/esm/utils/isArray.js","../../../core/dist/esm/utils/computeBase.js","../../../core/dist/esm/utils/greaterThan.js","../../../core/dist/esm/utils/greaterThanOrEqual.js","../../../core/dist/esm/utils/getAmountAndScale.js","../../../core/dist/esm/utils/isScaledAmount.js","../../../core/dist/esm/utils/getDivisors.js","../../../core/dist/esm/utils/isEven.js","../../../core/dist/esm/utils/isHalf.js","../../../core/dist/esm/utils/maximum.js","../../../core/dist/esm/utils/sign.js","../../../core/dist/esm/api/haveSameCurrency.js","../../../core/dist/esm/divide/down.js","../../../core/dist/esm/divide/halfUp.js","../../../core/dist/esm/divide/up.js","../../../core/dist/esm/api/transformScale.js","../../../core/dist/esm/api/normalizeScale.js","../../../core/dist/esm/api/add.js","../../../core/dist/esm/api/allocate.js","../../../core/dist/esm/utils/distribute.js","../../../core/dist/esm/api/compare.js","../../../core/dist/esm/utils/compare.js","../../../core/dist/esm/api/haveSameAmount.js","../../../core/dist/esm/api/greaterThan.js","../../../core/dist/esm/api/greaterThanOrEqual.js","../../../core/dist/esm/api/lessThan.js","../../../core/dist/esm/api/lessThanOrEqual.js","../../../core/dist/esm/utils/lessThanOrEqual.js","../../../core/dist/esm/api/maximum.js","../../../core/dist/esm/api/minimum.js","../../../core/dist/esm/utils/minimum.js","../../../core/dist/esm/api/subtract.js","../../../core/dist/esm/api/toUnits.js","../../../core/dist/esm/api/toDecimal.js","../../../core/dist/esm/api/trimScale.js","../../../core/dist/esm/utils/countTrailingZeros.js","../../src/api/haveSameCurrency.ts","../../src/api/toSnapshot.ts","../../../core/dist/esm/api/toSnapshot.js","../../../calculator-number/dist/esm/calculator.js","../../src/dinero.ts","../../../calculator-number/dist/esm/api/add.js","../../../calculator-number/dist/esm/api/compare.js","../../../calculator-number/dist/esm/api/decrement.js","../../../calculator-number/dist/esm/api/increment.js","../../../calculator-number/dist/esm/api/integerDivide.js","../../../calculator-number/dist/esm/api/modulo.js","../../../calculator-number/dist/esm/api/multiply.js","../../../calculator-number/dist/esm/api/power.js","../../../calculator-number/dist/esm/api/subtract.js","../../../calculator-number/dist/esm/api/zero.js","../../src/api/add.ts","../../src/api/allocate.ts","../../src/api/compare.ts","../../src/api/convert.ts","../../../core/dist/esm/api/convert.js","../../src/api/equal.ts","../../../core/dist/esm/api/equal.js","../../src/api/greaterThan.ts","../../src/api/greaterThanOrEqual.ts","../../../core/dist/esm/divide/halfAwayFromZero.js","../../../core/dist/esm/divide/halfDown.js","../../../core/dist/esm/divide/halfEven.js","../../../core/dist/esm/divide/halfOdd.js","../../../core/dist/esm/divide/halfTowardsZero.js","../../src/api/hasSubUnits.ts","../../../core/dist/esm/api/hasSubUnits.js","../../src/api/haveSameAmount.ts","../../src/api/isNegative.ts","../../../core/dist/esm/api/isNegative.js","../../src/api/isPositive.ts","../../../core/dist/esm/api/isPositive.js","../../src/api/isZero.ts","../../../core/dist/esm/api/isZero.js","../../src/api/lessThan.ts","../../src/api/lessThanOrEqual.ts","../../src/api/maximum.ts","../../src/api/minimum.ts","../../src/api/multiply.ts","../../../core/dist/esm/api/multiply.js","../../src/api/normalizeScale.ts","../../src/api/subtract.ts","../../src/api/toDecimal.ts","../../src/api/toUnits.ts","../../src/api/transformScale.ts","../../src/api/trimScale.ts"],"sourcesContent":["export var INVALID_AMOUNT_MESSAGE = 'Amount is invalid.';\nexport var INVALID_SCALE_MESSAGE = 'Scale is invalid.';\nexport var INVALID_RATIOS_MESSAGE = 'Ratios are invalid.';\nexport var UNEQUAL_SCALES_MESSAGE = 'Objects must have the same scale.';\nexport var UNEQUAL_CURRENCIES_MESSAGE = 'Objects must have the same currency.';\nexport var NON_DECIMAL_CURRENCY_MESSAGE = 'Currency is not decimal.';","/**\n * Assert a condition.\n *\n * @param condition - The condition to verify.\n * @param message - The error message to throw.\n *\n * @throws If the condition isn't met.\n */\nexport function assert(condition, message) {\n  if (!condition) {\n    throw new Error(\"[Dinero.js] \".concat(message));\n  }\n}","export function createDinero(_ref) {\n  var calculator = _ref.calculator,\n    onCreate = _ref.onCreate,\n    _ref$formatter = _ref.formatter,\n    formatter = _ref$formatter === void 0 ? {\n      toNumber: Number,\n      toString: String\n    } : _ref$formatter;\n  return function dinero(_ref2) {\n    var amount = _ref2.amount,\n      _ref2$currency = _ref2.currency,\n      code = _ref2$currency.code,\n      base = _ref2$currency.base,\n      exponent = _ref2$currency.exponent,\n      _ref2$scale = _ref2.scale,\n      scale = _ref2$scale === void 0 ? exponent : _ref2$scale;\n    var currency = {\n      code: code,\n      base: base,\n      exponent: exponent\n    };\n    onCreate === null || onCreate === void 0 || onCreate({\n      amount: amount,\n      currency: currency,\n      scale: scale\n    });\n    return {\n      calculator: calculator,\n      formatter: formatter,\n      create: dinero,\n      toJSON: function toJSON() {\n        return {\n          amount: amount,\n          currency: currency,\n          scale: scale\n        };\n      }\n    };\n  };\n}","export var ComparisonOperator = /*#__PURE__*/function (ComparisonOperator) {\n  ComparisonOperator[ComparisonOperator[\"LT\"] = -1] = \"LT\";\n  ComparisonOperator[ComparisonOperator[\"EQ\"] = 0] = \"EQ\";\n  ComparisonOperator[ComparisonOperator[\"GT\"] = 1] = \"GT\";\n  return ComparisonOperator;\n}({});","import { ComparisonOperator } from '../types';\n/**\n * Returns an equal function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The equal function.\n */\nexport function equal(calculator) {\n  return function (subject, comparator) {\n    return calculator.compare(subject, comparator) === ComparisonOperator.EQ;\n  };\n}","import { ComparisonOperator } from '../types';\n/**\n * Returns a lessThan function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The lessThan function.\n */\nexport function lessThan(calculator) {\n  return function (subject, comparator) {\n    return calculator.compare(subject, comparator) === ComparisonOperator.LT;\n  };\n}","import { equal } from './equal';\nimport { lessThan } from './lessThan';\nexport function absolute(calculator) {\n  var equalFn = equal(calculator);\n  var lessThanFn = lessThan(calculator);\n  var zero = calculator.zero();\n  return function (input) {\n    if (equalFn(input, zero)) {\n      return zero;\n    }\n    if (lessThanFn(input, zero)) {\n      var minusOne = calculator.decrement(zero);\n      return calculator.multiply(minusOne, input);\n    }\n    return input;\n  };\n}","export function isArray(maybeArray) {\n  return Array.isArray(maybeArray);\n}","import { isArray } from './isArray';\nexport function computeBase(calculator) {\n  return function (base) {\n    if (isArray(base)) {\n      return base.reduce(function (acc, curr) {\n        return calculator.multiply(acc, curr);\n      });\n    }\n    return base;\n  };\n}","import { ComparisonOperator } from '../types';\n/**\n * Returns a greaterThan function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The greaterThan function.\n */\nexport function greaterThan(calculator) {\n  return function (subject, comparator) {\n    return calculator.compare(subject, comparator) === ComparisonOperator.GT;\n  };\n}","import { equal } from './equal';\nimport { greaterThan } from './greaterThan';\n/**\n * Returns a greaterThanOrEqual function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The greaterThanOrEqual function.\n */\nexport function greaterThanOrEqual(calculator) {\n  return function (subject, comparator) {\n    return greaterThan(calculator)(subject, comparator) || equal(calculator)(subject, comparator);\n  };\n}","import { isScaledAmount } from './isScaledAmount';\nexport function getAmountAndScale(value, zero) {\n  if (isScaledAmount(value)) {\n    var _value$scale;\n    return {\n      amount: value.amount,\n      scale: (_value$scale = value === null || value === void 0 ? void 0 : value.scale) !== null && _value$scale !== void 0 ? _value$scale : zero\n    };\n  }\n  return {\n    amount: value,\n    scale: zero\n  };\n}","export function isScaledAmount(amount) {\n  return amount === null || amount === void 0 ? void 0 : amount.hasOwnProperty('amount');\n}","function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nexport function getDivisors(calculator) {\n  var multiply = calculator.multiply;\n  return function (bases) {\n    return bases.reduce(function (divisors, _, i) {\n      var divisor = bases.slice(i).reduce(function (acc, curr) {\n        return multiply(acc, curr);\n      });\n      return [].concat(_toConsumableArray(divisors), [divisor]);\n    }, []);\n  };\n}","import { equal } from '.';\nexport function isEven(calculator) {\n  var equalFn = equal(calculator);\n  var zero = calculator.zero();\n  var two = calculator.increment(calculator.increment(zero));\n  return function (input) {\n    return equalFn(calculator.modulo(input, two), zero);\n  };\n}","import { equal, absolute } from '.';\nexport function isHalf(calculator) {\n  var equalFn = equal(calculator);\n  var absoluteFn = absolute(calculator);\n  return function (input, total) {\n    var remainder = absoluteFn(calculator.modulo(input, total));\n    var difference = calculator.subtract(total, remainder);\n    return equalFn(difference, remainder);\n  };\n}","import { lessThan } from './lessThan';\n/**\n * Returns a maximum function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The maximum function.\n */\nexport function maximum(calculator) {\n  var lessThanFn = lessThan(calculator);\n  return function (values) {\n    return values.reduce(function (acc, curr) {\n      return lessThanFn(acc, curr) ? curr : acc;\n    });\n  };\n}","import { equal } from './equal';\nimport { lessThan } from './lessThan';\nexport function sign(calculator) {\n  var equalFn = equal(calculator);\n  var lessThanFn = lessThan(calculator);\n  var zero = calculator.zero();\n  return function (input) {\n    if (equalFn(input, zero)) {\n      return zero;\n    }\n    var one = calculator.increment(zero);\n    var minusOne = calculator.decrement(zero);\n    return lessThanFn(input, zero) ? minusOne : one;\n  };\n}","function _toArray(r) { return _arrayWithHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { computeBase, equal } from '../utils';\nexport function haveSameCurrency(dineroObjects) {\n  var _dineroObjects = _toArray(dineroObjects),\n    firstDinero = _dineroObjects[0],\n    otherDineros = _arrayLikeToArray(_dineroObjects).slice(1);\n  var computeBaseFn = computeBase(firstDinero.calculator);\n  var _firstDinero$toJSON = firstDinero.toJSON(),\n    comparator = _firstDinero$toJSON.currency;\n  var equalFn = equal(firstDinero.calculator);\n  var comparatorBase = computeBaseFn(comparator.base);\n  return otherDineros.every(function (d) {\n    var _d$toJSON = d.toJSON(),\n      subject = _d$toJSON.currency;\n    var subjectBase = computeBaseFn(subject.base);\n    return subject.code === comparator.code && equalFn(subjectBase, comparatorBase) && equalFn(subject.exponent, comparator.exponent);\n  });\n}","import { equal, greaterThan } from '../utils';\n\n/**\n * Divide and round down.\n *\n * Rounding down happens whenever the quotient is not an integer.\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var down = function down(amount, factor, calculator) {\n  var greaterThanFn = greaterThan(calculator);\n  var equalFn = equal(calculator);\n  var zero = calculator.zero();\n  var isPositive = greaterThanFn(amount, zero);\n  var quotient = calculator.integerDivide(amount, factor);\n  var remainder = calculator.modulo(amount, factor);\n  var isInteger = equalFn(remainder, zero);\n  if (isPositive || isInteger) {\n    return quotient;\n  }\n  return calculator.decrement(quotient);\n};","import { absolute, greaterThan, isHalf } from '../utils';\nimport { down, up } from '.';\n\n/**\n * Divide and round towards \"nearest neighbor\" unless both neighbors are\n * equidistant, in which case round up.\n *\n * Rounding up happens when:\n * - The quotient is half (e.g., -1.5, 1.5).\n * - The quotient is positive and greater than half (e.g., 1.6).\n * - The quotient is negative and less than half (e.g., -1.4).\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var halfUp = function halfUp(amount, factor, calculator) {\n  var greaterThanFn = greaterThan(calculator);\n  var isHalfFn = isHalf(calculator);\n  var absoluteFn = absolute(calculator);\n  var zero = calculator.zero();\n  var remainder = absoluteFn(calculator.modulo(amount, factor));\n  var difference = calculator.subtract(factor, remainder);\n  var isLessThanHalf = greaterThanFn(difference, remainder);\n  var isPositive = greaterThanFn(amount, zero);\n  if (isHalfFn(amount, factor) || isPositive && !isLessThanHalf || !isPositive && isLessThanHalf) {\n    return up(amount, factor, calculator);\n  }\n  return down(amount, factor, calculator);\n};","import { equal, greaterThan } from '../utils';\n\n/**\n * Divide and round up.\n *\n * Rounding up happens whenever the quotient is not an integer.\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var up = function up(amount, factor, calculator) {\n  var greaterThanFn = greaterThan(calculator);\n  var equalFn = equal(calculator);\n  var zero = calculator.zero();\n  var isPositive = greaterThanFn(amount, zero);\n  var quotient = calculator.integerDivide(amount, factor);\n  var remainder = calculator.modulo(amount, factor);\n  var isInteger = equalFn(remainder, zero);\n  if (!isInteger && isPositive) {\n    return calculator.increment(quotient);\n  }\n  return quotient;\n};","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { down } from '../divide';\nimport { computeBase, greaterThan } from '../utils';\nexport function transformScale(calculator) {\n  var greaterThanFn = greaterThan(calculator);\n  var computeBaseFn = computeBase(calculator);\n  return function transformScaleFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      newScale = _ref[1],\n      _ref$ = _ref[2],\n      divide = _ref$ === void 0 ? down : _ref$;\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var isLarger = greaterThanFn(newScale, scale);\n    var operation = isLarger ? calculator.multiply : divide;\n    var _ref2 = isLarger ? [newScale, scale] : [scale, newScale],\n      _ref3 = _slicedToArray(_ref2, 2),\n      a = _ref3[0],\n      b = _ref3[1];\n    var base = computeBaseFn(currency.base);\n    var factor = calculator.power(base, calculator.subtract(a, b));\n    return dineroObject.create({\n      amount: operation(amount, factor, calculator),\n      currency: currency,\n      scale: newScale\n    });\n  };\n}","import { equal, maximum } from '../utils';\nimport { transformScale } from './transformScale';\nexport function normalizeScale(calculator) {\n  var maximumFn = maximum(calculator);\n  var convertScaleFn = transformScale(calculator);\n  var equalFn = equal(calculator);\n  return function _normalizeScale() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObjects = _ref[0];\n    var highestScale = dineroObjects.reduce(function (highest, current) {\n      var _current$toJSON = current.toJSON(),\n        scale = _current$toJSON.scale;\n      return maximumFn([highest, scale]);\n    }, calculator.zero());\n    return dineroObjects.map(function (d) {\n      var _d$toJSON = d.toJSON(),\n        scale = _d$toJSON.scale;\n      return !equalFn(scale, highestScale) ? convertScaleFn(d, highestScale) : d;\n    });\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeAdd(calculator) {\n  return function add() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var augend = _ref[0],\n      addend = _ref[1];\n    var _augend$toJSON = augend.toJSON(),\n      augendAmount = _augend$toJSON.amount,\n      currency = _augend$toJSON.currency,\n      scale = _augend$toJSON.scale;\n    var _addend$toJSON = addend.toJSON(),\n      addendAmount = _addend$toJSON.amount;\n    var amount = calculator.add(augendAmount, addendAmount);\n    return augend.create({\n      amount: amount,\n      currency: currency,\n      scale: scale\n    });\n  };\n}\nexport function safeAdd(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var addFn = unsafeAdd(calculator);\n  return function add() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var augend = _ref2[0],\n      addend = _ref2[1];\n    var condition = haveSameCurrency([augend, addend]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var _normalizeFn = normalizeFn([augend, addend]),\n      _normalizeFn2 = _slicedToArray(_normalizeFn, 2),\n      newAugend = _normalizeFn2[0],\n      newAddend = _normalizeFn2[1];\n    return addFn(newAugend, newAddend);\n  };\n}","import { INVALID_RATIOS_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { distribute, equal, getAmountAndScale, greaterThan, greaterThanOrEqual, maximum } from '../utils';\nimport { transformScale } from './transformScale';\nfunction unsafeAllocate(calculator) {\n  return function allocate() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      ratios = _ref[1];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var distributeFn = distribute(calculator);\n    var shares = distributeFn(amount, ratios.map(function (ratio) {\n      return ratio.amount;\n    }));\n    return shares.map(function (share) {\n      return dineroObject.create({\n        amount: share,\n        currency: currency,\n        scale: scale\n      });\n    });\n  };\n}\nexport function safeAllocate(calculator) {\n  var allocateFn = unsafeAllocate(calculator);\n  var greaterThanOrEqualFn = greaterThanOrEqual(calculator);\n  var greaterThanFn = greaterThan(calculator);\n  var convertScaleFn = transformScale(calculator);\n  var maximumFn = maximum(calculator);\n  var equalFn = equal(calculator);\n  var zero = calculator.zero();\n  var ten = new Array(10).fill(null).reduce(calculator.increment, zero);\n  return function allocate() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObject = _ref2[0],\n      ratios = _ref2[1];\n    var hasRatios = ratios.length > 0;\n    var scaledRatios = ratios.map(function (ratio) {\n      return getAmountAndScale(ratio, zero);\n    });\n    var highestRatioScale = hasRatios ? maximumFn(scaledRatios.map(function (_ref3) {\n      var scale = _ref3.scale;\n      return scale;\n    })) : zero;\n    var normalizedRatios = scaledRatios.map(function (_ref4) {\n      var amount = _ref4.amount,\n        scale = _ref4.scale;\n      var factor = equalFn(scale, highestRatioScale) ? zero : calculator.subtract(highestRatioScale, scale);\n      return {\n        amount: calculator.multiply(amount, calculator.power(ten, factor)),\n        scale: scale\n      };\n    });\n    var hasOnlyPositiveRatios = normalizedRatios.every(function (_ref5) {\n      var amount = _ref5.amount;\n      return greaterThanOrEqualFn(amount, zero);\n    });\n    var hasOneNonZeroRatio = normalizedRatios.some(function (_ref6) {\n      var amount = _ref6.amount;\n      return greaterThanFn(amount, zero);\n    });\n    var condition = hasRatios && hasOnlyPositiveRatios && hasOneNonZeroRatio;\n    assert(condition, INVALID_RATIOS_MESSAGE);\n    var _dineroObject$toJSON2 = dineroObject.toJSON(),\n      scale = _dineroObject$toJSON2.scale;\n    var newScale = calculator.add(scale, highestRatioScale);\n    return allocateFn(convertScaleFn(dineroObject, newScale), normalizedRatios);\n  };\n}","import { equal } from './equal';\nimport { greaterThan } from './greaterThan';\nimport { greaterThanOrEqual } from './greaterThanOrEqual';\nimport { lessThan } from './lessThan';\n/**\n * Returns a distribute function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The distribute function.\n */\nexport function distribute(calculator) {\n  return function (value, ratios) {\n    var equalFn = equal(calculator);\n    var greaterThanFn = greaterThan(calculator);\n    var lessThanFn = lessThan(calculator);\n    var greaterThanOrEqualFn = greaterThanOrEqual(calculator);\n    var zero = calculator.zero();\n    var one = calculator.increment(zero);\n    var total = ratios.reduce(function (a, b) {\n      return calculator.add(a, b);\n    }, zero);\n    if (equalFn(total, zero)) {\n      return ratios;\n    }\n    var remainder = value;\n    var shares = ratios.map(function (ratio) {\n      var share = calculator.integerDivide(calculator.multiply(value, ratio), total) || zero;\n      remainder = calculator.subtract(remainder, share);\n      return share;\n    });\n    var isPositive = greaterThanOrEqualFn(value, zero);\n    var compare = isPositive ? greaterThanFn : lessThanFn;\n    var amount = isPositive ? one : calculator.decrement(zero);\n    var i = 0;\n    while (compare(remainder, zero)) {\n      if (!equalFn(ratios[i], zero)) {\n        shares[i] = calculator.add(shares[i], amount);\n        remainder = calculator.subtract(remainder, amount);\n      }\n      i++;\n    }\n    return shares;\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { compare as cmp } from '../utils';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeCompare(calculator) {\n  var compareFn = cmp(calculator);\n  return function compare() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      comparator = _ref[1];\n    var dineroObjects = [dineroObject, comparator];\n    var _dineroObjects$map = dineroObjects.map(function (d) {\n        var _d$toJSON = d.toJSON(),\n          amount = _d$toJSON.amount;\n        return amount;\n      }),\n      _dineroObjects$map2 = _slicedToArray(_dineroObjects$map, 2),\n      subjectAmount = _dineroObjects$map2[0],\n      comparatorAmount = _dineroObjects$map2[1];\n    return compareFn(subjectAmount, comparatorAmount);\n  };\n}\nexport function safeCompare(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var compareFn = unsafeCompare(calculator);\n  return function compare() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObject = _ref2[0],\n      comparator = _ref2[1];\n    var condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var _normalizeFn = normalizeFn([dineroObject, comparator]),\n      _normalizeFn2 = _slicedToArray(_normalizeFn, 2),\n      subjectAmount = _normalizeFn2[0],\n      comparatorAmount = _normalizeFn2[1];\n    return compareFn(subjectAmount, comparatorAmount);\n  };\n}","/**\n * Returns a compare function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The compare function.\n */\nexport function compare(calculator) {\n  return function (subject, comparator) {\n    return calculator.compare(subject, comparator);\n  };\n}","function _toArray(r) { return _arrayWithHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { equal } from '../utils';\nimport { normalizeScale } from './normalizeScale';\nexport function haveSameAmount(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var equalFn = equal(calculator);\n  return function _haveSameAmount() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObjects = _ref[0];\n    var _normalizeFn = normalizeFn(dineroObjects),\n      _normalizeFn2 = _toArray(_normalizeFn),\n      firstDinero = _normalizeFn2[0],\n      otherDineros = _arrayLikeToArray(_normalizeFn2).slice(1);\n    var _firstDinero$toJSON = firstDinero.toJSON(),\n      comparatorAmount = _firstDinero$toJSON.amount;\n    return otherDineros.every(function (d) {\n      var _d$toJSON = d.toJSON(),\n        subjectAmount = _d$toJSON.amount;\n      return equalFn(subjectAmount, comparatorAmount);\n    });\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { greaterThan as gt } from '../utils';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeGreaterThan(calculator) {\n  var greaterThanFn = gt(calculator);\n  return function greaterThan() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      comparator = _ref[1];\n    var dineroObjects = [dineroObject, comparator];\n    var _dineroObjects$map = dineroObjects.map(function (d) {\n        var _d$toJSON = d.toJSON(),\n          amount = _d$toJSON.amount;\n        return amount;\n      }),\n      _dineroObjects$map2 = _slicedToArray(_dineroObjects$map, 2),\n      subjectAmount = _dineroObjects$map2[0],\n      comparatorAmount = _dineroObjects$map2[1];\n    return greaterThanFn(subjectAmount, comparatorAmount);\n  };\n}\nexport function safeGreaterThan(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var greaterThanFn = unsafeGreaterThan(calculator);\n  return function greaterThan() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObject = _ref2[0],\n      comparator = _ref2[1];\n    var condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var _normalizeFn = normalizeFn([dineroObject, comparator]),\n      _normalizeFn2 = _slicedToArray(_normalizeFn, 2),\n      subjectAmount = _normalizeFn2[0],\n      comparatorAmount = _normalizeFn2[1];\n    return greaterThanFn(subjectAmount, comparatorAmount);\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { greaterThanOrEqual as gte } from '../utils';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeGreaterThanOrEqual(calculator) {\n  var greaterThanOrEqualFn = gte(calculator);\n  return function greaterThanOrEqual() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      comparator = _ref[1];\n    var dineroObjects = [dineroObject, comparator];\n    var _dineroObjects$map = dineroObjects.map(function (d) {\n        var _d$toJSON = d.toJSON(),\n          amount = _d$toJSON.amount;\n        return amount;\n      }),\n      _dineroObjects$map2 = _slicedToArray(_dineroObjects$map, 2),\n      subjectAmount = _dineroObjects$map2[0],\n      comparatorAmount = _dineroObjects$map2[1];\n    return greaterThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}\nexport function safeGreaterThanOrEqual(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var greaterThanOrEqualFn = unsafeGreaterThanOrEqual(calculator);\n  return function greaterThanOrEqual() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObject = _ref2[0],\n      comparator = _ref2[1];\n    var condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var _normalizeFn = normalizeFn([dineroObject, comparator]),\n      _normalizeFn2 = _slicedToArray(_normalizeFn, 2),\n      subjectAmount = _normalizeFn2[0],\n      comparatorAmount = _normalizeFn2[1];\n    return greaterThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { lessThan as lt } from '../utils';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeLessThan(calculator) {\n  var lessThanFn = lt(calculator);\n  return function lessThan() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      comparator = _ref[1];\n    var dineroObjects = [dineroObject, comparator];\n    var _dineroObjects$map = dineroObjects.map(function (d) {\n        var _d$toJSON = d.toJSON(),\n          amount = _d$toJSON.amount;\n        return amount;\n      }),\n      _dineroObjects$map2 = _slicedToArray(_dineroObjects$map, 2),\n      subjectAmount = _dineroObjects$map2[0],\n      comparatorAmount = _dineroObjects$map2[1];\n    return lessThanFn(subjectAmount, comparatorAmount);\n  };\n}\nexport function safeLessThan(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var lessThanFn = unsafeLessThan(calculator);\n  return function lessThan() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObject = _ref2[0],\n      comparator = _ref2[1];\n    var condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var _normalizeFn = normalizeFn([dineroObject, comparator]),\n      _normalizeFn2 = _slicedToArray(_normalizeFn, 2),\n      subjectAmount = _normalizeFn2[0],\n      comparatorAmount = _normalizeFn2[1];\n    return lessThanFn(subjectAmount, comparatorAmount);\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { lessThanOrEqual as lte } from '../utils';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeLessThanOrEqual(calculator) {\n  var lessThanOrEqualFn = lte(calculator);\n  return function lessThanOrEqual() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      comparator = _ref[1];\n    var dineroObjects = [dineroObject, comparator];\n    var _dineroObjects$map = dineroObjects.map(function (d) {\n        var _d$toJSON = d.toJSON(),\n          amount = _d$toJSON.amount;\n        return amount;\n      }),\n      _dineroObjects$map2 = _slicedToArray(_dineroObjects$map, 2),\n      subjectAmount = _dineroObjects$map2[0],\n      comparatorAmount = _dineroObjects$map2[1];\n    return lessThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}\nexport function safeLessThanOrEqual(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var lessThanOrEqualFn = unsafeLessThanOrEqual(calculator);\n  return function lessThanOrEqual() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObject = _ref2[0],\n      comparator = _ref2[1];\n    var condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var _normalizeFn = normalizeFn([dineroObject, comparator]),\n      _normalizeFn2 = _slicedToArray(_normalizeFn, 2),\n      subjectAmount = _normalizeFn2[0],\n      comparatorAmount = _normalizeFn2[1];\n    return lessThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}","import { equal } from './equal';\nimport { lessThan } from './lessThan';\n/**\n * Returns a lessThanOrEqual function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The lessThanOrEqual function.\n */\nexport function lessThanOrEqual(calculator) {\n  return function (subject, comparator) {\n    return lessThan(calculator)(subject, comparator) || equal(calculator)(subject, comparator);\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { maximum as max } from '../utils';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeMaximum(calculator) {\n  var maxFn = max(calculator);\n  return function maximum() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObjects = _ref[0];\n    var _dineroObjects = _slicedToArray(dineroObjects, 1),\n      firstDinero = _dineroObjects[0];\n    var _firstDinero$toJSON = firstDinero.toJSON(),\n      currency = _firstDinero$toJSON.currency,\n      scale = _firstDinero$toJSON.scale;\n    var amount = maxFn(dineroObjects.map(function (subject) {\n      var _subject$toJSON = subject.toJSON(),\n        subjectAmount = _subject$toJSON.amount;\n      return subjectAmount;\n    }));\n    return firstDinero.create({\n      amount: amount,\n      currency: currency,\n      scale: scale\n    });\n  };\n}\nexport function safeMaximum(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var maxFn = unsafeMaximum(calculator);\n  return function maximum() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObjects = _ref2[0];\n    var condition = haveSameCurrency(dineroObjects);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var normalizedDineroObjects = normalizeFn(dineroObjects);\n    return maxFn(normalizedDineroObjects);\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { minimum as min } from '../utils';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeMinimum(calculator) {\n  var minFn = min(calculator);\n  return function minimum() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObjects = _ref[0];\n    var _dineroObjects = _slicedToArray(dineroObjects, 1),\n      firstDinero = _dineroObjects[0];\n    var _firstDinero$toJSON = firstDinero.toJSON(),\n      currency = _firstDinero$toJSON.currency,\n      scale = _firstDinero$toJSON.scale;\n    var amount = minFn(dineroObjects.map(function (subject) {\n      var _subject$toJSON = subject.toJSON(),\n        subjectAmount = _subject$toJSON.amount;\n      return subjectAmount;\n    }));\n    return firstDinero.create({\n      amount: amount,\n      currency: currency,\n      scale: scale\n    });\n  };\n}\nexport function safeMinimum(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var minFn = unsafeMinimum(calculator);\n  return function maximum() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var dineroObjects = _ref2[0];\n    var condition = haveSameCurrency(dineroObjects);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var normalizedDineroObjects = normalizeFn(dineroObjects);\n    return minFn(normalizedDineroObjects);\n  };\n}","import { greaterThan } from './greaterThan';\n/**\n * Returns a minimum function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The minimum function.\n */\nexport function minimum(calculator) {\n  var greaterThanFn = greaterThan(calculator);\n  return function (values) {\n    return values.reduce(function (acc, curr) {\n      return greaterThanFn(acc, curr) ? curr : acc;\n    });\n  };\n}","function _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\nfunction unsafeSubtract(calculator) {\n  return function subtract() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var minuend = _ref[0],\n      subtrahend = _ref[1];\n    var _minuend$toJSON = minuend.toJSON(),\n      minuendAmount = _minuend$toJSON.amount,\n      currency = _minuend$toJSON.currency,\n      scale = _minuend$toJSON.scale;\n    var _subtrahend$toJSON = subtrahend.toJSON(),\n      subtrahendAmount = _subtrahend$toJSON.amount;\n    var amount = calculator.subtract(minuendAmount, subtrahendAmount);\n    return minuend.create({\n      amount: amount,\n      currency: currency,\n      scale: scale\n    });\n  };\n}\nexport function safeSubtract(calculator) {\n  var normalizeFn = normalizeScale(calculator);\n  var subtractFn = unsafeSubtract(calculator);\n  return function subtract() {\n    for (var _len2 = arguments.length, _ref2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      _ref2[_key2] = arguments[_key2];\n    }\n    var minuend = _ref2[0],\n      subtrahend = _ref2[1];\n    var condition = haveSameCurrency([minuend, subtrahend]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n    var _normalizeFn = normalizeFn([minuend, subtrahend]),\n      _normalizeFn2 = _slicedToArray(_normalizeFn, 2),\n      newMinuend = _normalizeFn2[0],\n      newSubtrahend = _normalizeFn2[1];\n    return subtractFn(newMinuend, newSubtrahend);\n  };\n}","function _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { isArray, getDivisors } from '../utils';\nexport function toUnits(calculator) {\n  var getDivisorsFn = getDivisors(calculator);\n  return function toUnitsFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      transformer = _ref[1];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var power = calculator.power,\n      integerDivide = calculator.integerDivide,\n      modulo = calculator.modulo;\n    var bases = isArray(currency.base) ? currency.base : [currency.base];\n    var divisors = getDivisorsFn(bases.map(function (base) {\n      return power(base, scale);\n    }));\n    var value = divisors.reduce(function (amounts, divisor, index) {\n      var amountLeft = amounts[index];\n      var quotient = integerDivide(amountLeft, divisor);\n      var remainder = modulo(amountLeft, divisor);\n      return [].concat(_toConsumableArray(amounts.filter(function (_, i) {\n        return i !== index;\n      })), [quotient, remainder]);\n    }, [amount]);\n    if (!transformer) {\n      return value;\n    }\n    return transformer({\n      value: value,\n      currency: currency\n    });\n  };\n}","import { NON_DECIMAL_CURRENCY_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { absolute, computeBase, equal, isArray, lessThan } from '../utils';\nimport { toUnits } from './toUnits';\nexport function toDecimal(calculator) {\n  var toUnitsFn = toUnits(calculator);\n  var computeBaseFn = computeBase(calculator);\n  var equalFn = equal(calculator);\n  return function toDecimalFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      transformer = _ref[1];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var base = computeBaseFn(currency.base);\n    var zero = calculator.zero();\n    var ten = new Array(10).fill(null).reduce(calculator.increment, zero);\n    var isMultiBase = isArray(currency.base);\n    var isBaseTen = equalFn(calculator.modulo(base, ten), zero);\n    var isDecimal = !isMultiBase && isBaseTen;\n    assert(isDecimal, NON_DECIMAL_CURRENCY_MESSAGE);\n    var units = toUnitsFn(dineroObject);\n    var getDecimalFn = getDecimal(calculator, dineroObject.formatter);\n    var value = getDecimalFn(units, scale);\n    if (!transformer) {\n      return value;\n    }\n    return transformer({\n      value: value,\n      currency: currency\n    });\n  };\n}\nfunction getDecimal(calculator, formatter) {\n  var absoluteFn = absolute(calculator);\n  var equalFn = equal(calculator);\n  var lessThanFn = lessThan(calculator);\n  var zero = calculator.zero();\n  return function (units, scale) {\n    var whole = formatter.toString(units[0]);\n    var fractional = formatter.toString(absoluteFn(units[1]));\n    var scaleNumber = formatter.toNumber(scale);\n    var decimal = \"\".concat(whole, \".\").concat(fractional.padStart(scaleNumber, '0'));\n    var leadsWithZero = equalFn(units[0], zero);\n    var isNegative = lessThanFn(units[1], zero);\n\n    // A leading negative zero is a special case because the `toString`\n    // formatter won't preserve its negative sign (since 0 === -0).\n    return leadsWithZero && isNegative ? \"-\".concat(decimal) : decimal;\n  };\n}","import { computeBase, countTrailingZeros, equal, maximum } from '../utils';\nimport { transformScale } from './transformScale';\nexport function trimScale(calculator) {\n  var countTrailingZerosFn = countTrailingZeros(calculator);\n  var equalFn = equal(calculator);\n  var maximumFn = maximum(calculator);\n  var transformScaleFn = transformScale(calculator);\n  var computeBaseFn = computeBase(calculator);\n  return function trimScaleFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var base = computeBaseFn(currency.base);\n    var trailingZerosLength = countTrailingZerosFn(amount, base);\n    var difference = calculator.subtract(scale, trailingZerosLength);\n    var newScale = maximumFn([difference, currency.exponent]);\n    if (equalFn(newScale, scale)) {\n      return dineroObject;\n    }\n    return transformScaleFn(dineroObject, newScale);\n  };\n}","import { equal } from './equal';\nexport function countTrailingZeros(calculator) {\n  var equalFn = equal(calculator);\n  return function (input, base) {\n    var zero = calculator.zero();\n    if (equalFn(zero, input)) {\n      return calculator.zero();\n    }\n    var i = zero;\n    var temp = input;\n    while (equalFn(calculator.modulo(temp, base), zero)) {\n      temp = calculator.integerDivide(temp, base);\n      i = calculator.increment(i);\n    }\n    return i;\n  };\n}","import { haveSameCurrency as coreHaveSameCurrency } from '@dinero.js/core';\n\n/**\n * Check whether a set of Dinero objects have the same currency.\n *\n * @param dineroObjects - The Dinero objects to compare.\n *\n * @returns Whether the Dinero objects have the same currency.\n *\n * @public\n */\nexport const haveSameCurrency = coreHaveSameCurrency;\n","import { toSnapshot as coreToSnapshot } from '@dinero.js/core';\n\n/**\n * Get a snapshot of a Dinero object.\n *\n * @param dineroObject - The Dinero object to format.\n * @param transformer - A transformer function.\n *\n * @returns A snapshot of the object.\n *\n * @public\n */\nexport const toSnapshot = coreToSnapshot;\n","export function toSnapshot(dineroObject) {\n  return dineroObject.toJSON();\n}","import { add, compare, decrement, increment, integerDivide, modulo, multiply, power, subtract, zero } from './api';\nexport var calculator = {\n  add: add,\n  compare: compare,\n  decrement: decrement,\n  increment: increment,\n  integerDivide: integerDivide,\n  modulo: modulo,\n  multiply: multiply,\n  power: power,\n  subtract: subtract,\n  zero: zero\n};","import { calculator } from '@dinero.js/calculator-number';\nimport {\n  createDinero,\n  assert,\n  INVALID_AMOUNT_MESSAGE,\n  INVALID_SCALE_MESSAGE,\n} from '@dinero.js/core';\n\n/**\n * Create a Dinero object.\n *\n * @param options.amount - The amount in minor currency units.\n * @param options.currency - The currency.\n * @param options.scale - The number of decimal places to represent.\n *\n * @returns The created Dinero object.\n *\n * @public\n */\nexport const dinero = createDinero({\n  calculator,\n  onCreate({ amount, scale }) {\n    assert(Number.isInteger(amount), INVALID_AMOUNT_MESSAGE);\n    assert(Number.isInteger(scale), INVALID_SCALE_MESSAGE);\n  },\n});\n","/**\n * Returns the sum of two numbers.\n *\n * @param augend - The number to add to.\n * @param addend - The number to add.\n *\n * @returns The sum of the two numbers.\n */\nexport var add = function add(augend, addend) {\n  return augend + addend;\n};","import { ComparisonOperator } from '@dinero.js/core';\n/**\n * Compare two numbers.\n *\n * @param a - The first number to compare.\n * @param b - The second number to compare.\n *\n * @returns Whether the two numbers are equal, or whether the first one is greater or less than the other.\n */\nexport var compare = function compare(a, b) {\n  if (a < b) {\n    return ComparisonOperator.LT;\n  }\n  if (a > b) {\n    return ComparisonOperator.GT;\n  }\n  return ComparisonOperator.EQ;\n};","/**\n * Returns an decremented number.\n *\n * @param value - The number to decrement.\n *\n * @returns The decremented number.\n */\nexport var decrement = function decrement(value) {\n  return value - 1;\n};","/**\n * Returns an incremented number.\n *\n * @param value - The number to increment.\n *\n * @returns The incremented number.\n */\nexport var increment = function increment(value) {\n  return value + 1;\n};","/**\n * Returns the quotient of two numbers with no fractional part.\n *\n * @param dividend - The number to divide.\n * @param divisor - The number to divide with.\n *\n * @returns The quotient of the two numbers.\n */\nexport var integerDivide = function integerDivide(dividend, divisor) {\n  return Math.trunc(dividend / divisor);\n};","/**\n * Returns the remainder of two numbers.\n *\n * @param dividend - The number to divide.\n * @param divisor - The number to divide with.\n *\n * @returns The remainder of the two numbers.\n */\nexport var modulo = function modulo(dividend, divisor) {\n  return dividend % divisor;\n};","/**\n * Returns the product of two numbers.\n *\n * @param multiplicand - The number to multiply.\n * @param multiplier - The number to multiply with.\n *\n * @returns The product of the two numbers.\n */\nexport var multiply = function multiply(multiplicand, multiplier) {\n  return multiplicand * multiplier;\n};","/**\n * Returns an number to the power of an exponent.\n *\n * @param base - The base number.\n * @param exponent - The exponent to raise the base to.\n *\n * @returns The base to the power of the exponent.\n */\nexport var power = function power(base, exponent) {\n  return Math.pow(base, exponent);\n};","/**\n * Returns the difference between two numbers.\n *\n * @param minuend - The number to subtract from.\n * @param subtrahend - The number to subtract.\n *\n * @returns The difference of the two numbers.\n */\nexport var subtract = function subtract(minuend, subtrahend) {\n  return minuend - subtrahend;\n};","/**\n * Return zero as a number.\n *\n * @returns Zero as a number.\n */\nexport function zero() {\n  return 0;\n}","import { safeAdd } from '@dinero.js/core';\nimport type { AddParams } from '@dinero.js/core';\n\n/**\n * Add up the passed Dinero objects.\n *\n * @param augend - The Dinero object to add to.\n * @param addend - The Dinero object to add.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function add<TAmount>(...[augend, addend]: AddParams<TAmount>) {\n  const { calculator } = augend;\n  const addFn = safeAdd(calculator);\n\n  return addFn(augend, addend);\n}\n","import { safeAllocate } from '@dinero.js/core';\nimport type { AllocateParams } from '@dinero.js/core';\n\n/**\n * Distribute the amount of a Dinero object across a list of ratios.\n *\n * @param dineroObject - The Dinero object to allocate from.\n * @param ratios - The ratios to allocate the amount to.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function allocate<TAmount>(\n  ...[dineroObject, ratios]: AllocateParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const allocateFn = safeAllocate(calculator);\n\n  return allocateFn(dineroObject, ratios);\n}\n","import { safeCompare } from '@dinero.js/core';\nimport type { CompareParams } from '@dinero.js/core';\n\n/**\n * Compare the value of a Dinero object relative to another.\n *\n * @param dineroObject - The Dinero object to compare.\n * @param comparator - The Dinero object to compare to.\n *\n * @returns One of -1, 0, or 1 depending on whether the first Dinero object is less than, equal to, or greater than the other.\n *\n * @public\n */\nexport function compare<TAmount>(\n  ...[dineroObject, comparator]: CompareParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const compareFn = safeCompare(calculator);\n\n  return compareFn(dineroObject, comparator);\n}\n","import { convert as coreConvert } from '@dinero.js/core';\nimport type { ConvertParams } from '@dinero.js/core';\n\n/**\n * Convert a Dinero object to another currency.\n *\n * @param dineroObject - The Dinero object to format.\n * @param newCurrency - The currency to convert to.\n * @param rates - The rates to convert with.\n *\n * @returns A converted Dinero object.\n *\n * @public\n */\nexport function convert<TAmount>(\n  ...[dineroObject, newCurrency, rates]: ConvertParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const converter = coreConvert(calculator);\n\n  return converter(dineroObject, newCurrency, rates);\n}\n","import { getAmountAndScale, maximum } from '../utils';\nimport { transformScale } from './transformScale';\nexport function convert(calculator) {\n  var convertScaleFn = transformScale(calculator);\n  var maximumFn = maximum(calculator);\n  var zero = calculator.zero();\n  return function convertFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      newCurrency = _ref[1],\n      rates = _ref[2];\n    var rate = rates[newCurrency.code];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      scale = _dineroObject$toJSON.scale;\n    var _getAmountAndScale = getAmountAndScale(rate, zero),\n      rateAmount = _getAmountAndScale.amount,\n      rateScale = _getAmountAndScale.scale;\n    var newScale = calculator.add(scale, rateScale);\n    return convertScaleFn(dineroObject.create({\n      amount: calculator.multiply(amount, rateAmount),\n      currency: newCurrency,\n      scale: newScale\n    }), maximumFn([newScale, newCurrency.exponent]));\n  };\n}","import { equal as coreEqual } from '@dinero.js/core';\nimport type { EqualParams } from '@dinero.js/core';\n\n/**\n * Check whether the value of a Dinero object is equal to another.\n *\n * @param dineroObject - The first Dinero object to compare.\n * @param comparator - The second Dinero object to compare.\n *\n * @returns Whether the Dinero objects are equal.\n *\n * @public\n */\nexport function equal<TAmount>(\n  ...[dineroObject, comparator]: EqualParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const equalFn = coreEqual(calculator);\n\n  return equalFn(dineroObject, comparator);\n}\n","import { haveSameAmount } from './haveSameAmount';\nimport { haveSameCurrency } from './haveSameCurrency';\nexport function equal(calculator) {\n  return function _equal() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0],\n      comparator = _ref[1];\n    return haveSameAmount(calculator)([dineroObject, comparator]) && haveSameCurrency([dineroObject, comparator]);\n  };\n}","import { safeGreaterThan } from '@dinero.js/core';\nimport type { GreaterThanParams } from '@dinero.js/core';\n\n/**\n * Check whether the value of a Dinero object is greater than another.\n *\n * @param dineroObject - The Dinero object to compare.\n * @param comparator - The Dinero object to compare to.\n *\n * @returns Whether the Dinero to compare is greater than the other.\n *\n * @public\n */\nexport function greaterThan<TAmount>(\n  ...[dineroObject, comparator]: GreaterThanParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const greaterThanFn = safeGreaterThan(calculator);\n\n  return greaterThanFn(dineroObject, comparator);\n}\n","import { safeGreaterThanOrEqual } from '@dinero.js/core';\nimport type { GreaterThanOrEqualParams } from '@dinero.js/core';\n\n/**\n * Check whether the value of a Dinero object is greater than or equal another.\n *\n * @param dineroObject - The Dinero object to compare.\n * @param comparator - The Dinero object to compare to.\n *\n * @returns Whether the Dinero to compare is greater than or equal the other.\n *\n * @public\n */\nexport function greaterThanOrEqual<TAmount>(\n  ...[dineroObject, comparator]: GreaterThanOrEqualParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const greaterThanOrEqualFn = safeGreaterThanOrEqual(calculator);\n\n  return greaterThanOrEqualFn(dineroObject, comparator);\n}\n","import { sign, isHalf, absolute } from '../utils';\nimport { halfUp, up } from '.';\n\n/**\n * Divide and round towards \"nearest neighbor\" unless both neighbors are\n * equidistant, in which case round away from zero.\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var halfAwayFromZero = function halfAwayFromZero(amount, factor, calculator) {\n  var signFn = sign(calculator);\n  var isHalfFn = isHalf(calculator);\n  var absoluteFn = absolute(calculator);\n  if (!isHalfFn(amount, factor)) {\n    return halfUp(amount, factor, calculator);\n  }\n  return calculator.multiply(signFn(amount), up(absoluteFn(amount), factor, calculator));\n};","import { isHalf } from '../utils';\nimport { down, halfUp } from '.';\n\n/**\n * Divide and round towards \"nearest neighbor\" unless both neighbors are\n * equidistant, in which case round down.\n *\n * Rounding down happens when:\n * - The quotient is half (e.g., -1.5, 1.5).\n * - The quotient is positive and less than half (e.g., 1.4).\n * - The quotient is negative and greater than half (e.g., -1.6).\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var halfDown = function halfDown(amount, factor, calculator) {\n  var isHalfFn = isHalf(calculator);\n  if (isHalfFn(amount, factor)) {\n    return down(amount, factor, calculator);\n  }\n  return halfUp(amount, factor, calculator);\n};","import { isEven, isHalf } from '../utils';\nimport { halfUp } from '.';\n\n/**\n * Divide and round towards \"nearest neighbor\" unless both neighbors are\n * equidistant, in which case round to the nearest even integer.\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var halfEven = function halfEven(amount, factor, calculator) {\n  var isEvenFn = isEven(calculator);\n  var isHalfFn = isHalf(calculator);\n  var rounded = halfUp(amount, factor, calculator);\n  if (!isHalfFn(amount, factor)) {\n    return rounded;\n  }\n  return isEvenFn(rounded) ? rounded : calculator.decrement(rounded);\n};","import { isEven, isHalf } from '../utils';\nimport { halfUp } from '.';\n\n/**\n * Divide and round towards \"nearest neighbor\" unless both neighbors are\n * equidistant, in which case round to the nearest odd integer.\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var halfOdd = function halfOdd(amount, factor, calculator) {\n  var isEvenFn = isEven(calculator);\n  var isHalfFn = isHalf(calculator);\n  var rounded = halfUp(amount, factor, calculator);\n  if (!isHalfFn(amount, factor)) {\n    return rounded;\n  }\n  return isEvenFn(rounded) ? calculator.decrement(rounded) : rounded;\n};","import { sign, isHalf, absolute } from '../utils';\nimport { halfUp, down } from '.';\n\n/**\n * Divide and round towards \"nearest neighbor\" unless both neighbors are\n * equidistant, in which case round towards zero.\n *\n * @param amount - The amount to divide.\n * @param factor - The factor to divide by.\n * @param calculator - The calculator to use.\n *\n * @returns The rounded amount.\n */\nexport var halfTowardsZero = function halfTowardsZero(amount, factor, calculator) {\n  var signFn = sign(calculator);\n  var isHalfFn = isHalf(calculator);\n  var absoluteFn = absolute(calculator);\n  if (!isHalfFn(amount, factor)) {\n    return halfUp(amount, factor, calculator);\n  }\n  return calculator.multiply(signFn(amount), down(absoluteFn(amount), factor, calculator));\n};","import { hasSubUnits as coreHasSubUnits } from '@dinero.js/core';\nimport type { HasSubUnitsParams } from '@dinero.js/core';\n\n/**\n * Check whether a Dinero object has minor currency units.\n *\n * @param dineroObject - The Dinero object to check.\n *\n * @returns Whether the Dinero object has minor currency units.\n *\n * @public\n */\nexport function hasSubUnits<TAmount>(\n  ...[dineroObject]: HasSubUnitsParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const hasSubUnitsFn = coreHasSubUnits(calculator);\n\n  return hasSubUnitsFn(dineroObject);\n}\n","import { computeBase, equal } from '../utils';\nexport function hasSubUnits(calculator) {\n  var equalFn = equal(calculator);\n  var computeBaseFn = computeBase(calculator);\n  return function _hasSubUnits() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount,\n      currency = _dineroObject$toJSON.currency,\n      scale = _dineroObject$toJSON.scale;\n    var base = computeBaseFn(currency.base);\n    return !equalFn(calculator.modulo(amount, calculator.power(base, scale)), calculator.zero());\n  };\n}","import { haveSameAmount as coreHaveSameAmount } from '@dinero.js/core';\nimport type { HaveSameAmountParams } from '@dinero.js/core';\n\n/**\n * Check whether a set of Dinero objects have the same amount.\n *\n * @param dineroObjects - The Dinero objects to compare.\n *\n * @returns Whether the Dinero objects have the same amount.\n *\n * @public\n */\nexport function haveSameAmount<TAmount>(\n  ...[dineroObjects]: HaveSameAmountParams<TAmount>\n) {\n  const { calculator } = dineroObjects[0];\n  const haveSameAmountFn = coreHaveSameAmount(calculator);\n\n  return haveSameAmountFn(dineroObjects);\n}\n","import { isNegative as coreIsNegative } from '@dinero.js/core';\nimport type { IsNegativeParams } from '@dinero.js/core';\n\n/**\n * Check whether a Dinero object is negative.\n *\n * @param dineroObject - The Dinero object to check.\n *\n * @returns Whether the Dinero object is negative.\n *\n * @public\n */\nexport function isNegative<TAmount>(\n  ...[dineroObject]: IsNegativeParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const isNegativeFn = coreIsNegative(calculator);\n\n  return isNegativeFn(dineroObject);\n}\n","import { lessThan } from '../utils';\nexport function isNegative(calculator) {\n  var lessThanFn = lessThan(calculator);\n  return function _isNegative() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount;\n    return lessThanFn(amount, calculator.zero());\n  };\n}","import { isPositive as coreIsPositive } from '@dinero.js/core';\nimport type { IsPositiveParams } from '@dinero.js/core';\n\n/**\n * Check whether a Dinero object is positive.\n *\n * @param dineroObject - The Dinero object to check.\n *\n * @returns Whether the Dinero object is positive.\n *\n * @public\n */\nexport function isPositive<TAmount>(\n  ...[dineroObject]: IsPositiveParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const isPositiveFn = coreIsPositive(calculator);\n\n  return isPositiveFn(dineroObject);\n}\n","import { greaterThan } from '../utils';\nexport function isPositive(calculator) {\n  var greaterThanFn = greaterThan(calculator);\n  return function _isPositive() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount;\n    return greaterThanFn(amount, calculator.zero());\n  };\n}","import { isZero as coreIsZero } from '@dinero.js/core';\nimport type { IsZeroParams } from '@dinero.js/core';\n\n/**\n * Check whether the value of a Dinero object is zero.\n *\n * @param dineroObject - The Dinero object to check.\n *\n * @returns Whether the value of a Dinero object is zero.\n *\n * @public\n */\nexport function isZero<TAmount>(...[dineroObject]: IsZeroParams<TAmount>) {\n  const { calculator } = dineroObject;\n  const isZeroFn = coreIsZero(calculator);\n\n  return isZeroFn(dineroObject);\n}\n","import { equal } from '../utils';\nexport function isZero(calculator) {\n  var equalFn = equal(calculator);\n  return function _isZero() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var dineroObject = _ref[0];\n    var _dineroObject$toJSON = dineroObject.toJSON(),\n      amount = _dineroObject$toJSON.amount;\n    return equalFn(amount, calculator.zero());\n  };\n}","import { safeLessThan } from '@dinero.js/core';\nimport type { LessThanParams } from '@dinero.js/core';\n\n/**\n * Check whether the value of a Dinero object is lesser than another.\n *\n * @param dineroObject - The Dinero object to compare.\n * @param comparator - The Dinero object to compare to.\n *\n * @returns Whether the Dinero to compare is lesser than the other.\n *\n * @public\n */\nexport function lessThan<TAmount>(\n  ...[dineroObject, comparator]: LessThanParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const lessThanFn = safeLessThan(calculator);\n\n  return lessThanFn(dineroObject, comparator);\n}\n","import { safeLessThanOrEqual } from '@dinero.js/core';\nimport type { LessThanOrEqualParams } from '@dinero.js/core';\n\n/**\n * Check whether the value of a Dinero object is lesser than or equal to another.\n *\n * @param dineroObject - The Dinero object to compare.\n * @param comparator - The Dinero object to compare to.\n *\n * @returns Whether the Dinero to compare is lesser than or equal to the other.\n *\n * @public\n */\nexport function lessThanOrEqual<TAmount>(\n  ...[dineroObject, comparator]: LessThanOrEqualParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const lessThanOrEqualFn = safeLessThanOrEqual(calculator);\n\n  return lessThanOrEqualFn(dineroObject, comparator);\n}\n","import { safeMaximum } from '@dinero.js/core';\nimport type { MaximumParams } from '@dinero.js/core';\n\n/**\n * Get the greatest of the passed Dinero objects.\n *\n * @param dineroObjects - The Dinero objects to maximum.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function maximum<TAmount>(...[dineroObjects]: MaximumParams<TAmount>) {\n  const { calculator } = dineroObjects[0];\n  const maximumFn = safeMaximum(calculator);\n\n  return maximumFn(dineroObjects);\n}\n","import { safeMinimum } from '@dinero.js/core';\nimport type { MinimumParams } from '@dinero.js/core';\n\n/**\n * Get the lowest of the passed Dinero objects.\n *\n * @param dineroObjects - The Dinero objects to minimum.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function minimum<TAmount>(...[dineroObjects]: MinimumParams<TAmount>) {\n  const { calculator } = dineroObjects[0];\n  const minimumFn = safeMinimum(calculator);\n\n  return minimumFn(dineroObjects);\n}\n","import { multiply as coreMultiply } from '@dinero.js/core';\nimport type { MultiplyParams } from '@dinero.js/core';\n\n/**\n * Multiply the passed Dinero object.\n *\n * @param multiplicand - The Dinero object to multiply.\n * @param multiplier - The number to multiply with.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function multiply<TAmount>(\n  ...[multiplicand, multiplier]: MultiplyParams<TAmount>\n) {\n  const { calculator } = multiplicand;\n  const multiplyFn = coreMultiply(calculator);\n\n  return multiplyFn(multiplicand, multiplier);\n}\n","import { getAmountAndScale } from '../utils';\nimport { transformScale } from './transformScale';\nexport function multiply(calculator) {\n  var convertScaleFn = transformScale(calculator);\n  var zero = calculator.zero();\n  return function multiplyFn() {\n    for (var _len = arguments.length, _ref = new Array(_len), _key = 0; _key < _len; _key++) {\n      _ref[_key] = arguments[_key];\n    }\n    var multiplicand = _ref[0],\n      multiplier = _ref[1];\n    var _multiplicand$toJSON = multiplicand.toJSON(),\n      amount = _multiplicand$toJSON.amount,\n      currency = _multiplicand$toJSON.currency,\n      scale = _multiplicand$toJSON.scale;\n    var _getAmountAndScale = getAmountAndScale(multiplier, zero),\n      multiplierAmount = _getAmountAndScale.amount,\n      multiplierScale = _getAmountAndScale.scale;\n    var newScale = calculator.add(scale, multiplierScale);\n    return convertScaleFn(multiplicand.create({\n      amount: calculator.multiply(amount, multiplierAmount),\n      currency: currency,\n      scale: newScale\n    }), newScale);\n  };\n}","import { normalizeScale as coreNormalizeScale } from '@dinero.js/core';\nimport type { NormalizeScaleParams } from '@dinero.js/core';\n\n/**\n * Normalize a set of Dinero objects to the highest scale of the set.\n *\n * @param dineroObjects - The Dinero objects to normalize.\n *\n * @returns A new set of Dinero objects.\n *\n * @public\n */\nexport function normalizeScale<TAmount>(\n  ...[dineroObjects]: NormalizeScaleParams<TAmount>\n) {\n  const { calculator } = dineroObjects[0];\n  const normalizeScaleFn = coreNormalizeScale(calculator);\n\n  return normalizeScaleFn(dineroObjects);\n}\n","import { safeSubtract } from '@dinero.js/core';\nimport type { SubtractParams } from '@dinero.js/core';\n\n/**\n * Subtract the passed Dinero objects.\n *\n * @param minuend - The Dinero object to subtract from.\n * @param subtrahend - The Dinero object to subtract.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function subtract<TAmount>(\n  ...[minuend, subtrahend]: SubtractParams<TAmount>\n) {\n  const { calculator } = minuend;\n  const subtractFn = safeSubtract(calculator);\n\n  return subtractFn(minuend, subtrahend);\n}\n","import { toDecimal as coreToDecimal } from '@dinero.js/core';\nimport type { ToDecimalParams, Dinero, Transformer } from '@dinero.js/core';\n\nexport function toDecimal<TAmount>(dineroObject: Dinero<TAmount>): string;\n\nexport function toDecimal<TAmount, TOutput>(\n  dineroObject: Dinero<TAmount>,\n  transformer: Transformer<TAmount, TOutput, string>\n): TOutput;\n\n/**\n * Get the amount of a Dinero object in decimal form.\n *\n * @param dineroObject - The Dinero object to format.\n * @param transformer - A transformer function.\n *\n * @returns The amount in decimal form.\n *\n * @public\n */\nexport function toDecimal<TAmount, TOutput>(\n  ...[dineroObject, transformer]: ToDecimalParams<TAmount, TOutput>\n) {\n  const { calculator } = dineroObject;\n  const toDecimalFn = coreToDecimal<TAmount, TOutput>(calculator);\n\n  return toDecimalFn(dineroObject, transformer);\n}\n","import { toUnits as coreToUnits } from '@dinero.js/core';\nimport type { ToUnitsParams, Dinero, Transformer } from '@dinero.js/core';\n\nexport function toUnits<TAmount>(\n  dineroObject: Dinero<TAmount>\n): readonly TAmount[];\n\nexport function toUnits<TAmount, TOutput>(\n  dineroObject: Dinero<TAmount>,\n  transformer: Transformer<TAmount, TOutput, readonly TAmount[]>\n): TOutput;\n\n/**\n * Get the amount of a Dinero object in units.\n *\n * @param dineroObject - The Dinero object to format.\n * @param transformer - A transformer function.\n *\n * @returns The amount in units.\n *\n * @public\n */\nexport function toUnits<TAmount, TOutput>(\n  ...[dineroObject, transformer]: ToUnitsParams<TAmount, TOutput>\n) {\n  const { calculator } = dineroObject;\n  const toUnitsFn = coreToUnits<TAmount, TOutput>(calculator);\n\n  return toUnitsFn(dineroObject, transformer);\n}\n","import { transformScale as coreTransformScale } from '@dinero.js/core';\nimport type { TransformScaleParams } from '@dinero.js/core';\n\n/**\n * Transform a Dinero object to a new scale.\n *\n * @param dineroObject - The Dinero object to transform.\n * @param newScale - The new scale.\n * @param divide - A custom divide function.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function transformScale<TAmount>(\n  ...[dineroObject, newScale, divide]: TransformScaleParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const transformScaleFn = coreTransformScale(calculator);\n\n  return transformScaleFn(dineroObject, newScale, divide);\n}\n","import { trimScale as coreTrimScale } from '@dinero.js/core';\nimport type { TrimScaleParams } from '@dinero.js/core';\n\n/**\n * Trim a Dinero object's scale as much as possible, down to the currency exponent.\n *\n * @param dineroObject - The Dinero object which scale to trim.\n *\n * @returns A new Dinero object.\n *\n * @public\n */\nexport function trimScale<TAmount>(\n  ...[dineroObject]: TrimScaleParams<TAmount>\n) {\n  const { calculator } = dineroObject;\n  const trimScaleFn = coreTrimScale(calculator);\n\n  return trimScaleFn(dineroObject);\n}\n"],"names":["UNEQUAL_CURRENCIES_MESSAGE","assert","condition","message","Error","concat","createDinero","_ref","calculator","onCreate","_ref$formatter","formatter","toNumber","Number","toString","String","dinero","_ref2","amount","_ref2$currency","currency","code","base","exponent","_ref2$scale","scale","create","toJSON","ComparisonOperator","equal","subject","comparator","compare","EQ","lessThan","LT","absolute","equalFn","lessThanFn","zero","input","minusOne","decrement","multiply","isArray","maybeArray","Array","computeBase","reduce","acc","curr","greaterThan","GT","greaterThanOrEqual","getAmountAndScale","value","_value$scale","hasOwnProperty","_toConsumableArray","r","_arrayLikeToArray","_arrayWithoutHoles","Symbol","iterator","from","_iterableToArray","a","t","call","slice","constructor","name","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","length","e","n","isEven","two","increment","modulo","isHalf","absoluteFn","total","remainder","difference","subtract","maximum","values","sign","one","_toArray","_arrayWithHoles","_nonIterableRest","haveSameCurrency","dineroObjects","_dineroObjects","firstDinero","otherDineros","computeBaseFn","comparatorBase","every","d","subjectBase","down","factor","greaterThanFn","isPositive","quotient","integerDivide","isInteger","halfUp","isHalfFn","isLessThanHalf","up","_slicedToArray","l","i","u","f","o","next","Object","done","push","return","_iterableToArrayLimit","transformScale","_len","arguments","_key","dineroObject","newScale","_ref$","divide","_dineroObject$toJSON","isLarger","operation","_ref3","b","power","normalizeScale","maximumFn","convertScaleFn","highestScale","highest","current","map","safeAdd","normalizeFn","addFn","augend","addend","_augend$toJSON","augendAmount","addendAmount","add","unsafeAdd","_len2","_key2","_normalizeFn2","newAugend","newAddend","unsafeAllocate","ratios","distributeFn","greaterThanOrEqualFn","shares","ratio","share","distribute","safeCompare","compareFn","cmp","_dineroObjects$map2","subjectAmount","comparatorAmount","unsafeCompare","haveSameAmount","safeGreaterThan","gt","unsafeGreaterThan","safeGreaterThanOrEqual","gte","unsafeGreaterThanOrEqual","safeLessThan","lt","unsafeLessThan","unsafeLessThanOrEqual","lessThanOrEqualFn","lte","safeMaximum","maxFn","max","_firstDinero$toJSON","unsafeMaximum","normalizedDineroObjects","unsafeMinimum","minFn","min","safeSubtract","subtractFn","minuend","subtrahend","_minuend$toJSON","minuendAmount","subtrahendAmount","unsafeSubtract","newMinuend","newSubtrahend","toUnits","getDivisorsFn","bases","divisors","_","divisor","getDivisors","transformer","amounts","index","amountLeft","filter","toDecimal","toUnitsFn","ten","fill","isMultiBase","isBaseTen","units","getDecimalFn","whole","fractional","scaleNumber","decimal","padStart","leadsWithZero","isNegative","getDecimal","trimScale","countTrailingZerosFn","temp","countTrailingZeros","transformScaleFn","trailingZerosLength","coreHaveSameCurrency","toSnapshot","dividend","Math","trunc","multiplicand","multiplier","pow","allocateFn","hasRatios","scaledRatios","highestRatioScale","normalizedRatios","_ref4","hasOnlyPositiveRatios","_ref5","hasOneNonZeroRatio","some","_ref6","safeAllocate","newCurrency","rates","converter","rate","_getAmountAndScale","rateAmount","rateScale","coreConvert","coreEqual","signFn","isEvenFn","rounded","hasSubUnitsFn","coreHasSubUnits","coreHaveSameAmount","haveSameAmountFn","isNegativeFn","coreIsNegative","isPositiveFn","coreIsPositive","isZeroFn","coreIsZero","safeLessThanOrEqual","minimumFn","safeMinimum","multiplyFn","_multiplicand$toJSON","multiplierAmount","multiplierScale","coreMultiply","coreNormalizeScale","normalizeScaleFn","coreToDecimal","toDecimalFn","coreToUnits","coreTransformScale","coreTrimScale","trimScaleFn"],"mappings":"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"}