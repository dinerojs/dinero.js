/*! @dinero.js/core 2.0.0-alpha.14 (UNRELEASED 0bf77da) | MIT License | Â© Sarah Dayan and contributors | https://v2.dinerojs.com */
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((r="undefined"!=typeof globalThis?globalThis:r||self)["@dinero.js/core"]={})}(this,function(r){"use strict";function n(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=Array(n);t<n;t++)e[t]=r[t];return e}function t(r){if(Array.isArray(r))return r}function e(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(r,n){return t(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,u,a,o,c=[],i=!0,f=!1;try{if(a=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;i=!1}else for(;!(i=(e=a.call(t)).done)&&(c.push(e.value),c.length!==n);i=!0);}catch(r){f=!0,u=r}finally{try{if(!i&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(f)throw u}}return c}}(r,n)||i(r,n)||u()}function o(r){return t(r)||e(r)||i(r)||u()}function c(r){return function(r){if(Array.isArray(r))return n(r)}(r)||e(r)||i(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(r,t){if(r){if("string"==typeof r)return n(r,t);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(r,t):void 0}}var f="Ratios are invalid.",l="Objects must have the same currency.",v="Currency is not decimal.";function m(r,n){if(!r)throw new Error("[Dinero.js] ".concat(n))}var s=function(r){return r[r.LT=-1]="LT",r[r.EQ=0]="EQ",r[r.GT=1]="GT",r}({});function y(r){return function(n,t){return r.compare(n,t)===s.EQ}}function d(r){return function(n,t){return r.compare(n,t)===s.LT}}function S(r){var n=y(r),t=d(r),e=r.zero();return function(u){if(n(u,e))return e;if(t(u,e)){var a=r.decrement(e);return r.multiply(a,u)}return u}}function h(r){return Array.isArray(r)}function p(r){return function(n){return h(n)?n.reduce(function(n,t){return r.multiply(n,t)}):n}}function A(r){return function(n,t){return r.compare(n,t)===s.GT}}function g(r){return function(n,t){return A(r)(n,t)||y(r)(n,t)}}function w(r,n){var t,e;return(null==(e=r)?void 0:e.hasOwnProperty("amount"))?{amount:r.amount,scale:null!==(t=null==r?void 0:r.scale)&&void 0!==t?t:n}:{amount:r,scale:n}}function b(r){var n=y(r),t=r.zero(),e=r.increment(r.increment(t));return function(u){return n(r.modulo(u,e),t)}}function N(r){var n=y(r),t=S(r);return function(e,u){var a=t(r.modulo(e,u)),o=r.subtract(u,a);return n(o,a)}}function O(r){var n=d(r);return function(r){return r.reduce(function(r,t){return n(r,t)?t:r})}}function J(r){var n=y(r),t=d(r),e=r.zero();return function(u){if(n(u,e))return e;var a=r.increment(e),o=r.decrement(e);return t(u,e)?o:a}}function E(r){var t=o(r),e=t[0],u=n(t).slice(1),a=p(e.calculator),c=e.toJSON().currency,i=y(e.calculator),f=a(c.base);return u.every(function(r){var n=r.toJSON().currency,t=a(n.base);return n.code===c.code&&i(t,f)&&i(n.exponent,c.exponent)})}var z=function(r,n,t){var e=A(t),u=y(t),a=t.zero(),o=e(r,a),c=t.integerDivide(r,n),i=u(t.modulo(r,n),a);return o||i?c:t.decrement(c)},T=function(r,n,t){var e=A(t),u=N(t),a=S(t),o=t.zero(),c=a(t.modulo(r,n)),i=e(t.subtract(n,c),c),f=e(r,o);return u(r,n)||f&&!i||!f&&i?_(r,n,t):z(r,n,t)},_=function(r,n,t){var e=A(t),u=y(t),a=t.zero(),o=e(r,a),c=t.integerDivide(r,n);return!u(t.modulo(r,n),a)&&o?t.increment(c):c};function I(r){var n=A(r),t=p(r);return function(){for(var e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];var c=u[0],i=u[1],f=u[2],l=void 0===f?z:f,v=c.toJSON(),m=v.amount,s=v.currency,y=v.scale,d=n(i,y),S=d?r.multiply:l,h=a(d?[i,y]:[y,i],2),p=h[0],A=h[1],g=t(s.base),w=r.power(g,r.subtract(p,A));return c.create({amount:S(m,w,r),currency:s,scale:i})}}function C(r){var n=O(r),t=I(r),e=y(r);return function(){for(var u=arguments.length,a=new Array(u),o=0;o<u;o++)a[o]=arguments[o];var c=a[0],i=c.reduce(function(r,t){var e=t.toJSON().scale;return n([r,e])},r.zero());return c.map(function(r){var n=r.toJSON().scale;return e(n,i)?r:t(r,i)})}}function D(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],a=t[1],o=u.toJSON(),c=o.amount,i=o.currency,f=o.scale,l=function(r){return function(n,t){var e=y(r),u=A(r),a=d(r),o=g(r),c=r.zero(),i=r.increment(c),f=t.reduce(function(n,t){return r.add(n,t)},c);if(e(f,c))return t;for(var l=n,v=t.map(function(t){var e=r.integerDivide(r.multiply(n,t),f)||c;return l=r.subtract(l,e),e}),m=o(n,c),s=m?u:a,S=m?i:r.decrement(c),h=0;s(l,c);)e(t[h],c)||(v[h]=r.add(v[h],S),l=r.subtract(l,S)),h++;return v}}(r);return l(c,a.map(function(r){return r.amount})).map(function(r){return u.create({amount:r,currency:i,scale:f})})}}function L(r){var t=C(r),e=y(r);return function(){for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];var c=u[0],i=o(t(c)),f=i[0],l=n(i).slice(1),v=f.toJSON().amount;return l.every(function(r){var n=r.toJSON().amount;return e(n,v)})}}function M(r){var n=function(r){return function(n,t){return d(r)(n,t)||y(r)(n,t)}}(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var u=a([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),o=u[0],c=u[1];return n(o,c)}}function j(r){var n=function(r){var n=A(r);return function(r){return r.reduce(function(r,t){return n(r,t)?t:r})}}(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var u=t[0],o=a(u,1)[0],c=o.toJSON(),i=c.currency,f=c.scale,l=n(u.map(function(r){return r.toJSON().amount}));return o.create({amount:l,currency:i,scale:f})}}function x(r){var n=function(r){var n=r.multiply;return function(r){return r.reduce(function(t,e,u){var a=r.slice(u).reduce(function(r,t){return n(r,t)});return[].concat(c(t),[a])},[])}}(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var a=e[0],o=e[1],i=a.toJSON(),f=i.amount,l=i.currency,v=i.scale,m=r.power,s=r.integerDivide,y=r.modulo,d=h(l.base)?l.base:[l.base],S=n(d.map(function(r){return m(r,v)})).reduce(function(r,n,t){var e=r[t],u=s(e,n),a=y(e,n);return[].concat(c(r.filter(function(r,n){return n!==t})),[u,a])},[f]);return o?o({value:S,currency:l}):S}}r.ComparisonOperator=s,r.INVALID_AMOUNT_MESSAGE="Amount is invalid.",r.INVALID_RATIOS_MESSAGE=f,r.INVALID_SCALE_MESSAGE="Scale is invalid.",r.NON_DECIMAL_CURRENCY_MESSAGE=v,r.UNEQUAL_CURRENCIES_MESSAGE=l,r.UNEQUAL_SCALES_MESSAGE="Objects must have the same scale.",r.assert=m,r.convert=function(r){var n=I(r),t=O(r),e=r.zero();return function(){for(var u=arguments.length,a=new Array(u),o=0;o<u;o++)a[o]=arguments[o];var c=a[0],i=a[1],f=a[2][i.code],l=c.toJSON(),v=l.amount,m=l.scale,s=w(f,e),y=s.amount,d=s.scale,S=r.add(m,d);return n(c.create({amount:r.multiply(v,y),currency:i,scale:S}),t([S,i.exponent]))}},r.createDinero=function(r){var n=r.calculator,t=r.onCreate,e=r.formatter,u=void 0===e?{toNumber:Number,toString:String}:e;return function r(e){var a=e.amount,o=e.currency,c=o.code,i=o.base,f=o.exponent,l=e.scale,v=void 0===l?f:l,m={code:c,base:i,exponent:f};return null==t||t({amount:a,currency:m,scale:v}),{calculator:n,formatter:u,create:r,toJSON:function(){return{amount:a,currency:m,scale:v}}}}},r.down=z,r.equal=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],a=t[1];return L(r)([u,a])&&E([u,a])}},r.halfAwayFromZero=function(r,n,t){var e=J(t),u=N(t),a=S(t);return u(r,n)?t.multiply(e(r),_(a(r),n,t)):T(r,n,t)},r.halfDown=function(r,n,t){return N(t)(r,n)?z(r,n,t):T(r,n,t)},r.halfEven=function(r,n,t){var e=b(t),u=N(t),a=T(r,n,t);return u(r,n)?e(a)?a:t.decrement(a):a},r.halfOdd=function(r,n,t){var e=b(t),u=N(t),a=T(r,n,t);return u(r,n)&&e(a)?t.decrement(a):a},r.halfTowardsZero=function(r,n,t){var e=J(t),u=N(t),a=S(t);return u(r,n)?t.multiply(e(r),z(a(r),n,t)):T(r,n,t)},r.halfUp=T,r.hasSubUnits=function(r){var n=y(r),t=p(r);return function(){for(var e=arguments.length,u=new Array(e),a=0;a<e;a++)u[a]=arguments[a];var o=u[0].toJSON(),c=o.amount,i=o.currency,f=o.scale,l=t(i.base);return!n(r.modulo(c,r.power(l,f)),r.zero())}},r.haveSameAmount=L,r.haveSameCurrency=E,r.isNegative=function(r){var n=d(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var a=e[0].toJSON().amount;return n(a,r.zero())}},r.isPositive=function(r){var n=A(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var a=e[0].toJSON().amount;return n(a,r.zero())}},r.isZero=function(r){var n=y(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var a=e[0].toJSON().amount;return n(a,r.zero())}},r.multiply=function(r){var n=I(r),t=r.zero();return function(){for(var e=arguments.length,u=new Array(e),a=0;a<e;a++)u[a]=arguments[a];var o=u[0],c=u[1],i=o.toJSON(),f=i.amount,l=i.currency,v=i.scale,m=w(c,t),s=m.amount,y=m.scale,d=r.add(v,y);return n(o.create({amount:r.multiply(f,s),currency:l,scale:d}),d)}},r.normalizeScale=C,r.safeAdd=function(r){var n=C(r),t=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],a=t[1],o=u.toJSON(),c=o.amount,i=o.currency,f=o.scale,l=a.toJSON().amount,v=r.add(c,l);return u.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],c=e[1];m(E([o,c]),l);var i=a(n([o,c]),2),f=i[0],v=i[1];return t(f,v)}},r.safeAllocate=function(r){var n=D(r),t=g(r),e=A(r),u=I(r),a=O(r),o=y(r),c=r.zero(),i=new Array(10).fill(null).reduce(r.increment,c);return function(){for(var l=arguments.length,v=new Array(l),s=0;s<l;s++)v[s]=arguments[s];var y=v[0],d=v[1],S=d.length>0,h=d.map(function(r){return w(r,c)}),p=S?a(h.map(function(r){return r.scale})):c,A=h.map(function(n){var t=n.amount,e=n.scale,u=o(e,p)?c:r.subtract(p,e);return{amount:r.multiply(t,r.power(i,u)),scale:e}}),g=A.every(function(r){var n=r.amount;return t(n,c)}),b=A.some(function(r){var n=r.amount;return e(n,c)});m(S&&g&&b,f);var N=y.toJSON().scale,O=r.add(N,p);return n(u(y,O),A)}},r.safeCompare=function(r){var n=C(r),t=function(r){var n=function(r){return function(n,t){return r.compare(n,t)}}(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var u=a([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),o=u[0],c=u[1];return n(o,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],c=e[1];m(E([o,c]),l);var i=a(n([o,c]),2),f=i[0],v=i[1];return t(f,v)}},r.safeGreaterThan=function(r){var n=C(r),t=function(r){var n=A(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var u=a([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),o=u[0],c=u[1];return n(o,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],c=e[1];m(E([o,c]),l);var i=a(n([o,c]),2),f=i[0],v=i[1];return t(f,v)}},r.safeGreaterThanOrEqual=function(r){var n=C(r),t=function(r){var n=g(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var u=a([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),o=u[0],c=u[1];return n(o,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],c=e[1];m(E([o,c]),l);var i=a(n([o,c]),2),f=i[0],v=i[1];return t(f,v)}},r.safeLessThan=function(r){var n=C(r),t=function(r){var n=d(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var u=a([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),o=u[0],c=u[1];return n(o,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],c=e[1];m(E([o,c]),l);var i=a(n([o,c]),2),f=i[0],v=i[1];return t(f,v)}},r.safeLessThanOrEqual=function(r){var n=C(r),t=M(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],c=e[1];m(E([o,c]),l);var i=a(n([o,c]),2),f=i[0],v=i[1];return t(f,v)}},r.safeMaximum=function(r){var n=C(r),t=function(r){var n=O(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var u=t[0],o=a(u,1)[0],c=o.toJSON(),i=c.currency,f=c.scale,l=n(u.map(function(r){return r.toJSON().amount}));return o.create({amount:l,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var a=e[0];m(E(a),l);var o=n(a);return t(o)}},r.safeMinimum=function(r){var n=C(r),t=j(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var a=e[0];m(E(a),l);var o=n(a);return t(o)}},r.safeSubtract=function(r){var n=C(r),t=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],a=t[1],o=u.toJSON(),c=o.amount,i=o.currency,f=o.scale,l=a.toJSON().amount,v=r.subtract(c,l);return u.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0],c=e[1];m(E([o,c]),l);var i=a(n([o,c]),2),f=i[0],v=i[1];return t(f,v)}},r.toDecimal=function(r){var n=x(r),t=p(r),e=y(r);return function(){for(var u=arguments.length,a=new Array(u),o=0;o<u;o++)a[o]=arguments[o];var c=a[0],i=a[1],f=c.toJSON(),l=f.currency,s=f.scale,p=t(l.base),A=r.zero(),g=new Array(10).fill(null).reduce(r.increment,A),w=h(l.base),b=e(r.modulo(p,g),A);m(!w&&b,v);var N=n(c),O=function(r,n){var t=S(r),e=y(r),u=d(r),a=r.zero();return function(r,o){var c=n.toString(r[0]),i=n.toString(t(r[1])),f=n.toNumber(o),l="".concat(c,".").concat(i.padStart(f,"0")),v=e(r[0],a),m=u(r[1],a);return v&&m?"-".concat(l):l}}(r,c.formatter),J=O(N,s);return i?i({value:J,currency:l}):J}},r.toSnapshot=function(r){return r.toJSON()},r.toUnits=x,r.transformScale=I,r.trimScale=function(r){var n=function(r){var n=y(r);return function(t,e){var u=r.zero();if(n(u,t))return r.zero();for(var a=u,o=t;n(r.modulo(o,e),u);)o=r.integerDivide(o,e),a=r.increment(a);return a}}(r),t=y(r),e=O(r),u=I(r),a=p(r);return function(){for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];var f=c[0],l=f.toJSON(),v=l.amount,m=l.currency,s=l.scale,y=a(m.base),d=n(v,y),S=r.subtract(s,d),h=e([S,m.exponent]);return t(h,s)?f:u(f,h)}},r.up=_,Object.defineProperty(r,"__esModule",{value:!0})});
//# sourceMappingURL=index.production.js.map
