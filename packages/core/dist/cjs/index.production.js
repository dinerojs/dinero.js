/*! @dinero.js/core 2.0.0-alpha.14 (UNRELEASED 0bf77da) | MIT License | Â© Sarah Dayan and contributors | https://v2.dinerojs.com */
"use strict";function r(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=Array(n);t<n;t++)e[t]=r[t];return e}function n(r){if(Array.isArray(r))return r}function t(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(r,t){return n(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,u,o,a,c=[],i=!0,f=!1;try{if(o=(t=t.call(r)).next,0===n){if(Object(t)!==t)return;i=!1}else for(;!(i=(e=o.call(t)).done)&&(c.push(e.value),c.length!==n);i=!0);}catch(r){f=!0,u=r}finally{try{if(!i&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(f)throw u}}return c}}(r,t)||c(r,t)||e()}function o(r){return n(r)||t(r)||c(r)||e()}function a(n){return function(n){if(Array.isArray(n))return r(n)}(n)||t(n)||c(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(n,t){if(n){if("string"==typeof n)return r(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(n,t):void 0}}Object.defineProperty(exports,"__esModule",{value:!0});var i="Ratios are invalid.",f="Objects must have the same currency.",l="Currency is not decimal.";function v(r,n){if(!r)throw new Error("[Dinero.js] ".concat(n))}var s=function(r){return r[r.LT=-1]="LT",r[r.EQ=0]="EQ",r[r.GT=1]="GT",r}({});function m(r){return function(n,t){return r.compare(n,t)===s.EQ}}function y(r){return function(n,t){return r.compare(n,t)===s.LT}}function p(r){var n=m(r),t=y(r),e=r.zero();return function(u){if(n(u,e))return e;if(t(u,e)){var o=r.decrement(e);return r.multiply(o,u)}return u}}function d(r){return Array.isArray(r)}function S(r){return function(n){return d(n)?n.reduce(function(n,t){return r.multiply(n,t)}):n}}function A(r){return function(n,t){return r.compare(n,t)===s.GT}}function h(r){return function(n,t){return A(r)(n,t)||m(r)(n,t)}}function w(r,n){var t,e;return(null==(e=r)?void 0:e.hasOwnProperty("amount"))?{amount:r.amount,scale:null!==(t=null==r?void 0:r.scale)&&void 0!==t?t:n}:{amount:r,scale:n}}function x(r){var n=m(r),t=r.zero(),e=r.increment(r.increment(t));return function(u){return n(r.modulo(u,e),t)}}function g(r){var n=m(r),t=p(r);return function(e,u){var o=t(r.modulo(e,u)),a=r.subtract(u,o);return n(a,o)}}function N(r){var n=y(r);return function(r){return r.reduce(function(r,t){return n(r,t)?t:r})}}function O(r){var n=m(r),t=y(r),e=r.zero();return function(u){if(n(u,e))return e;var o=r.increment(e),a=r.decrement(e);return t(u,e)?a:o}}function b(n){var t=o(n),e=t[0],u=r(t).slice(1),a=S(e.calculator),c=e.toJSON().currency,i=m(e.calculator),f=a(c.base);return u.every(function(r){var n=r.toJSON().currency,t=a(n.base);return n.code===c.code&&i(t,f)&&i(n.exponent,c.exponent)})}var J=function(r,n,t){var e=A(t),u=m(t),o=t.zero(),a=e(r,o),c=t.integerDivide(r,n),i=u(t.modulo(r,n),o);return a||i?c:t.decrement(c)},E=function(r,n,t){var e=A(t),u=g(t),o=p(t),a=t.zero(),c=o(t.modulo(r,n)),i=e(t.subtract(n,c),c),f=e(r,a);return u(r,n)||f&&!i||!f&&i?z(r,n,t):J(r,n,t)},z=function(r,n,t){var e=A(t),u=m(t),o=t.zero(),a=e(r,o),c=t.integerDivide(r,n);return!u(t.modulo(r,n),o)&&a?t.increment(c):c};function T(r){var n=A(r),t=S(r);return function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];var c=o[0],i=o[1],f=o[2],l=void 0===f?J:f,v=c.toJSON(),s=v.amount,m=v.currency,y=v.scale,p=n(i,y),d=p?r.multiply:l,S=u(p?[i,y]:[y,i],2),A=S[0],h=S[1],w=t(m.base),x=r.power(w,r.subtract(A,h));return c.create({amount:d(s,x,r),currency:m,scale:i})}}function _(r){var n=N(r),t=T(r),e=m(r);return function(){for(var u=arguments.length,o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];var c=o[0],i=c.reduce(function(r,t){var e=t.toJSON().scale;return n([r,e])},r.zero());return c.map(function(r){var n=r.toJSON().scale;return e(n,i)?r:t(r,i)})}}function I(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1],a=u.toJSON(),c=a.amount,i=a.currency,f=a.scale,l=function(r){return function(n,t){var e=m(r),u=A(r),o=y(r),a=h(r),c=r.zero(),i=r.increment(c),f=t.reduce(function(n,t){return r.add(n,t)},c);if(e(f,c))return t;for(var l=n,v=t.map(function(t){var e=r.integerDivide(r.multiply(n,t),f)||c;return l=r.subtract(l,e),e}),s=a(n,c),p=s?u:o,d=s?i:r.decrement(c),S=0;p(l,c);)e(t[S],c)||(v[S]=r.add(v[S],d),l=r.subtract(l,d)),S++;return v}}(r);return l(c,o.map(function(r){return r.amount})).map(function(r){return u.create({amount:r,currency:i,scale:f})})}}function C(n){var t=_(n),e=m(n);return function(){for(var n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];var c=u[0],i=o(t(c)),f=i[0],l=r(i).slice(1),v=f.toJSON().amount;return l.every(function(r){var n=r.toJSON().amount;return e(n,v)})}}function D(r){var n=function(r){return function(n,t){return y(r)(n,t)||m(r)(n,t)}}(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=u([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),a=o[0],c=o[1];return n(a,c)}}function L(r){var n=function(r){var n=A(r);return function(r){return r.reduce(function(r,t){return n(r,t)?t:r})}}(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=t[0],a=u(o,1)[0],c=a.toJSON(),i=c.currency,f=c.scale,l=n(o.map(function(r){return r.toJSON().amount}));return a.create({amount:l,currency:i,scale:f})}}function M(r){var n=function(r){var n=r.multiply;return function(r){return r.reduce(function(t,e,u){var o=r.slice(u).reduce(function(r,t){return n(r,t)});return[].concat(a(t),[o])},[])}}(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=e[0],c=e[1],i=o.toJSON(),f=i.amount,l=i.currency,v=i.scale,s=r.power,m=r.integerDivide,y=r.modulo,p=d(l.base)?l.base:[l.base],S=n(p.map(function(r){return s(r,v)})).reduce(function(r,n,t){var e=r[t],u=m(e,n),o=y(e,n);return[].concat(a(r.filter(function(r,n){return n!==t})),[u,o])},[f]);return c?c({value:S,currency:l}):S}}exports.ComparisonOperator=s,exports.INVALID_AMOUNT_MESSAGE="Amount is invalid.",exports.INVALID_RATIOS_MESSAGE=i,exports.INVALID_SCALE_MESSAGE="Scale is invalid.",exports.NON_DECIMAL_CURRENCY_MESSAGE=l,exports.UNEQUAL_CURRENCIES_MESSAGE=f,exports.UNEQUAL_SCALES_MESSAGE="Objects must have the same scale.",exports.assert=v,exports.convert=function(r){var n=T(r),t=N(r),e=r.zero();return function(){for(var u=arguments.length,o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];var c=o[0],i=o[1],f=o[2][i.code],l=c.toJSON(),v=l.amount,s=l.scale,m=w(f,e),y=m.amount,p=m.scale,d=r.add(s,p);return n(c.create({amount:r.multiply(v,y),currency:i,scale:d}),t([d,i.exponent]))}},exports.createDinero=function(r){var n=r.calculator,t=r.onCreate,e=r.formatter,u=void 0===e?{toNumber:Number,toString:String}:e;return function r(e){var o=e.amount,a=e.currency,c=a.code,i=a.base,f=a.exponent,l=e.scale,v=void 0===l?f:l,s={code:c,base:i,exponent:f};return null==t||t({amount:o,currency:s,scale:v}),{calculator:n,formatter:u,create:r,toJSON:function(){return{amount:o,currency:s,scale:v}}}}},exports.down=J,exports.equal=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1];return C(r)([u,o])&&b([u,o])}},exports.halfAwayFromZero=function(r,n,t){var e=O(t),u=g(t),o=p(t);return u(r,n)?t.multiply(e(r),z(o(r),n,t)):E(r,n,t)},exports.halfDown=function(r,n,t){return g(t)(r,n)?J(r,n,t):E(r,n,t)},exports.halfEven=function(r,n,t){var e=x(t),u=g(t),o=E(r,n,t);return u(r,n)?e(o)?o:t.decrement(o):o},exports.halfOdd=function(r,n,t){var e=x(t),u=g(t),o=E(r,n,t);return u(r,n)&&e(o)?t.decrement(o):o},exports.halfTowardsZero=function(r,n,t){var e=O(t),u=g(t),o=p(t);return u(r,n)?t.multiply(e(r),J(o(r),n,t)):E(r,n,t)},exports.halfUp=E,exports.hasSubUnits=function(r){var n=m(r),t=S(r);return function(){for(var e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];var a=u[0].toJSON(),c=a.amount,i=a.currency,f=a.scale,l=t(i.base);return!n(r.modulo(c,r.power(l,f)),r.zero())}},exports.haveSameAmount=C,exports.haveSameCurrency=b,exports.isNegative=function(r){var n=y(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=e[0].toJSON().amount;return n(o,r.zero())}},exports.isPositive=function(r){var n=A(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=e[0].toJSON().amount;return n(o,r.zero())}},exports.isZero=function(r){var n=m(r);return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=e[0].toJSON().amount;return n(o,r.zero())}},exports.multiply=function(r){var n=T(r),t=r.zero();return function(){for(var e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];var a=u[0],c=u[1],i=a.toJSON(),f=i.amount,l=i.currency,v=i.scale,s=w(c,t),m=s.amount,y=s.scale,p=r.add(v,y);return n(a.create({amount:r.multiply(f,m),currency:l,scale:p}),p)}},exports.normalizeScale=_,exports.safeAdd=function(r){var n=_(r),t=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1],a=u.toJSON(),c=a.amount,i=a.currency,f=a.scale,l=o.toJSON().amount,v=r.add(c,l);return u.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a=e[0],c=e[1];v(b([a,c]),f);var i=u(n([a,c]),2),l=i[0],s=i[1];return t(l,s)}},exports.safeAllocate=function(r){var n=I(r),t=h(r),e=A(r),u=T(r),o=N(r),a=m(r),c=r.zero(),f=new Array(10).fill(null).reduce(r.increment,c);return function(){for(var l=arguments.length,s=new Array(l),m=0;m<l;m++)s[m]=arguments[m];var y=s[0],p=s[1],d=p.length>0,S=p.map(function(r){return w(r,c)}),A=d?o(S.map(function(r){return r.scale})):c,h=S.map(function(n){var t=n.amount,e=n.scale,u=a(e,A)?c:r.subtract(A,e);return{amount:r.multiply(t,r.power(f,u)),scale:e}}),x=h.every(function(r){var n=r.amount;return t(n,c)}),g=h.some(function(r){var n=r.amount;return e(n,c)});v(d&&x&&g,i);var N=y.toJSON().scale,O=r.add(N,A);return n(u(y,O),h)}},exports.safeCompare=function(r){var n=_(r),t=function(r){var n=function(r){return function(n,t){return r.compare(n,t)}}(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=u([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),a=o[0],c=o[1];return n(a,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a=e[0],c=e[1];v(b([a,c]),f);var i=u(n([a,c]),2),l=i[0],s=i[1];return t(l,s)}},exports.safeGreaterThan=function(r){var n=_(r),t=function(r){var n=A(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=u([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),a=o[0],c=o[1];return n(a,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a=e[0],c=e[1];v(b([a,c]),f);var i=u(n([a,c]),2),l=i[0],s=i[1];return t(l,s)}},exports.safeGreaterThanOrEqual=function(r){var n=_(r),t=function(r){var n=h(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=u([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),a=o[0],c=o[1];return n(a,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a=e[0],c=e[1];v(b([a,c]),f);var i=u(n([a,c]),2),l=i[0],s=i[1];return t(l,s)}},exports.safeLessThan=function(r){var n=_(r),t=function(r){var n=y(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=u([t[0],t[1]].map(function(r){return r.toJSON().amount}),2),a=o[0],c=o[1];return n(a,c)}}(r);return function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a=e[0],c=e[1];v(b([a,c]),f);var i=u(n([a,c]),2),l=i[0],s=i[1];return t(l,s)}},exports.safeLessThanOrEqual=function(r){var n=_(r),t=D(r);return function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a=e[0],c=e[1];v(b([a,c]),f);var i=u(n([a,c]),2),l=i[0],s=i[1];return t(l,s)}},exports.safeMaximum=function(r){var n=_(r),t=function(r){var n=N(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var o=t[0],a=u(o,1)[0],c=a.toJSON(),i=c.currency,f=c.scale,l=n(o.map(function(r){return r.toJSON().amount}));return a.create({amount:l,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0];v(b(o),f);var a=n(o);return t(a)}},exports.safeMinimum=function(r){var n=_(r),t=L(r);return function(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];var o=e[0];v(b(o),f);var a=n(o);return t(a)}},exports.safeSubtract=function(r){var n=_(r),t=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var u=t[0],o=t[1],a=u.toJSON(),c=a.amount,i=a.currency,f=a.scale,l=o.toJSON().amount,v=r.subtract(c,l);return u.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a=e[0],c=e[1];v(b([a,c]),f);var i=u(n([a,c]),2),l=i[0],s=i[1];return t(l,s)}},exports.toDecimal=function(r){var n=M(r),t=S(r),e=m(r);return function(){for(var u=arguments.length,o=new Array(u),a=0;a<u;a++)o[a]=arguments[a];var c=o[0],i=o[1],f=c.toJSON(),s=f.currency,S=f.scale,A=t(s.base),h=r.zero(),w=new Array(10).fill(null).reduce(r.increment,h),x=d(s.base),g=e(r.modulo(A,w),h);v(!x&&g,l);var N=n(c),O=function(r,n){var t=p(r),e=m(r),u=y(r),o=r.zero();return function(r,a){var c=n.toString(r[0]),i=n.toString(t(r[1])),f=n.toNumber(a),l="".concat(c,".").concat(i.padStart(f,"0")),v=e(r[0],o),s=u(r[1],o);return v&&s?"-".concat(l):l}}(r,c.formatter),b=O(N,S);return i?i({value:b,currency:s}):b}},exports.toSnapshot=function(r){return r.toJSON()},exports.toUnits=M,exports.transformScale=T,exports.trimScale=function(r){var n=function(r){var n=m(r);return function(t,e){var u=r.zero();if(n(u,t))return r.zero();for(var o=u,a=t;n(r.modulo(a,e),u);)a=r.integerDivide(a,e),o=r.increment(o);return o}}(r),t=m(r),e=N(r),u=T(r),o=S(r);return function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];var f=c[0],l=f.toJSON(),v=l.amount,s=l.currency,m=l.scale,y=o(s.base),p=n(v,y),d=r.subtract(m,p),S=e([d,s.exponent]);return t(S,m)?f:u(f,S)}},exports.up=z;
//# sourceMappingURL=index.production.js.map
